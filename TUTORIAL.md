# 红墨新用户引导系统

## 📚 概述

红墨内置了完整的新用户引导系统，帮助首次使用的用户快速了解平台功能，掌握核心操作流程。

## ✨ 核心特性

### 1. 智能触发机制
- **首次登录**: 用户首次登录后自动显示欢迎引导
- **首次访问**: 首次访问特定页面时显示相关功能引导
- **手动触发**: 可随时通过帮助按钮查看所有教程

### 2. 交互式引导
- **元素高亮**: 自动定位并高亮关键功能按钮
- **步骤指示**: 清晰的进度条显示当前步骤
- **图文并茂**: 每个步骤都配有说明图片和详细描述
- **灵活控制**: 支持跳过、上一步、下一步操作

### 3. 教程管理
- **状态记录**: 自动记录已完成的教程
- **避免重复**: 已完成的教程不会重复弹出
- **可重学习**: 可在帮助中心重新开始任何教程

## 🎯 内置教程

### 1. 欢迎引导 (welcome)
**触发时机**: 首次登录后自动显示

**包含内容**:
- 平台介绍和核心功能说明
- 创作流程概览
- 主要特性展示

**步骤**:
1. 欢迎使用 RedInk - 介绍平台定位
2. 开始创作很简单 - 展示基本使用方法
3. 完整的工作流程 - 说明从输入到导出的全流程

### 2. 首页引导 (home-guide)
**触发时机**: 首次访问首页（2秒后）

**包含内容**:
- 主题输入框使用
- AI 智能分析功能
- 个人中心访问

**步骤**:
1. 输入创作主题 - 引导到输入框
2. AI 智能分析 - 介绍建议功能
3. 个性化设置 - 指向用户菜单

### 3. 大纲编辑引导 (outline-guide)
**触发时机**: 手动启动（进入大纲页面时可选）

**包含内容**:
- 大纲编辑器使用
- 添加要点功能
- 图片生成操作

**步骤**:
1. 编辑大纲 - 介绍编辑区域
2. 添加要点 - 指向添加按钮
3. 生成配图 - 引导生成操作

### 4. 结果页面引导 (result-guide)
**触发时机**: 手动启动（进入结果页面时可选）

**包含内容**:
- 结果查看功能
- 文字编辑方法
- 保存和下载操作

**步骤**:
1. 查看生成结果 - 展示结果容器
2. 编辑文字内容 - 介绍编辑功能
3. 保存到历史 - 引导保存操作

## 🔧 使用方法

### 自动触发

新用户无需任何操作，系统会在适当的时机自动显示引导：

```
首次登录 → 显示欢迎引导
首次访问首页 → 2秒后显示首页引导
```

### 手动启动

1. **侧边栏帮助按钮**
   - 点击侧边栏的帮助按钮（❓图标）
   - 选择想要查看的教程
   - 点击即可开始学习

2. **快捷键**
   - 按 `Ctrl + ?` (Windows/Linux)
   - 按 `Cmd + ?` (macOS)
   - 打开帮助菜单

3. **测试页面**
   - 访问 `/tutorial-test` 路径
   - 可以测试所有教程功能
   - 查看和管理完成状态

## 🎨 界面元素

### 教程覆盖层
- **半透明背景**: 突出当前教程内容
- **目标高亮**: 使用蓝色边框高亮目标元素
- **箭头指示**: 指向目标元素的箭头

### 教程卡片
- **标题**: 当前步骤的标题
- **描述**: 详细的操作说明
- **图片**: 辅助理解的示意图
- **要点**: 关键功能点列表
- **进度**: 当前步骤/总步骤数

### 操作按钮
- **跳过引导**: 关闭当前教程
- **上一步**: 返回上一个步骤
- **下一步**: 进入下一个步骤
- **完成**: 结束教程学习

## 💾 数据存储

### LocalStorage 存储
教程状态使用 LocalStorage 持久化存储：

```javascript
{
  "completedTutorials": ["welcome", "home-guide"],
  "showTutorialOnLogin": true,
  "theme": "light",
  "language": "zh-CN"
}
```

### 存储位置
- **键名**: `redink-preferences`
- **存储内容**: JSON 格式的用户偏好设置
- **自动同步**: 修改后立即保存

## 🔄 重置教程

如果需要重新学习所有教程：

1. **通过帮助菜单**:
   - 打开帮助菜单
   - 点击"重置所有引导"按钮
   - 确认重置操作

2. **通过浏览器控制台**:
   ```javascript
   localStorage.removeItem('redink-preferences')
   location.reload()
   ```

## 🎯 最佳实践

### 对于用户
1. **首次使用**: 建议完整观看欢迎引导，了解平台功能
2. **功能探索**: 遇到不熟悉的功能，可随时打开相关教程
3. **快捷键**: 记住 `Ctrl/Cmd + ?` 快捷键，快速获取帮助
4. **重复学习**: 不确定操作步骤时，可重新开始教程

### 对于开发者
1. **目标选择器**: 确保页面元素有正确的 CSS 类名
2. **触发时机**: 根据用户行为选择合适的触发时机
3. **步骤设计**: 每个步骤保持简洁，聚焦单一功能
4. **图片准备**: 为每个步骤准备清晰的示意图

## 🛠️ 技术实现

### 组件架构

```
TutorialManager.vue (教程管理器)
├── TutorialOverlay.vue (教程覆盖层)
└── TutorialTrigger.vue (触发器/帮助按钮)
```

### 状态管理

使用 Pinia Store 管理教程状态：

```typescript
// LocalConfig Store
interface Preferences {
  completedTutorials: string[]
  showTutorialOnLogin: boolean
  theme: 'light' | 'dark'
  language: string
}
```

### 核心方法

```typescript
// 启动教程
tutorialManager.startTutorial('welcome')

// 自动触发
tutorialManager.autoTriggerTutorial('login')

// 检查欢迎教程
tutorialManager.checkWelcomeTutorial()

// 标记完成
localConfigStore.markTutorialCompleted('welcome')

// 检查是否完成
localConfigStore.isTutorialCompleted('welcome')

// 重置所有
localConfigStore.resetTutorials()
```

## 📱 响应式支持

教程系统完全支持移动端：

- **自适应布局**: 在小屏幕上自动调整
- **触摸优化**: 支持触摸操作
- **流畅动画**: 保证移动端流畅体验

## 🔮 未来扩展

计划添加的功能：

- [ ] 视频教程支持
- [ ] 多语言教程
- [ ] 自定义教程创建
- [ ] 教程评分反馈
- [ ] AI 智能推荐教程

## 🤝 贡献

欢迎为教程系统贡献：

1. **优化现有教程**: 改进文案和步骤设计
2. **添加新教程**: 为新功能编写引导
3. **翻译教程**: 添加其他语言版本
4. **报告问题**: 反馈教程中的问题

---

有任何问题或建议，欢迎提交 Issue 或 Pull Request！
